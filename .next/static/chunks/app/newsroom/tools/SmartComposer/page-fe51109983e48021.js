(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{1959:(e,t,s)=>{Promise.resolve().then(s.bind(s,1999))},1999:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(6384),a=s(9956),l=s(6636),i=s(8942);let o=l.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-white/10 bg-black/20 px-3 py-2 text-sm text-white placeholder:text-white/40 shadow-sm outline-none focus:ring-2 focus:ring-drn-green disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});o.displayName="Input";let n=l.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-white/10 bg-black/20 px-3 py-2 text-sm text-white placeholder:text-white/40 shadow-sm outline-none focus:ring-2 focus:ring-drn-green disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});n.displayName="Textarea";let d=l.forwardRef((e,t)=>{let{className:s,variant:a="default",...l}=e;return(0,r.jsx)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{default:"bg-drn-blue text-white hover:bg-blue-800",secondary:"bg-white text-black hover:bg-drn-green",ghost:"bg-transparent hover:bg-white/10 text-white"}[a],s),ref:t,...l})});d.displayName="Button";let c=(0,s(9898).UU)("https://lbqrkohwozvtyyokwjfg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxicXJrb2h3b3p2dHl5b2t3amZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2MDgwOTMsImV4cCI6MjA2MjE4NDA5M30.DGGJLSuzjk9123if5T1Ae0ELVgKdOmEQStPBfnHbF8Y");var u=s(1226),m=s(6569),h=s(1789);function x(){let{register:e,handleSubmit:t,reset:s}=(0,a.mN)(),[i,x]=(0,l.useState)(!1),[b,p]=(0,l.useState)(!1),f=async e=>{x(!0),p(!1);let{error:t}=await c.from("posts").insert([{title:e.title,category:e.category,location:e.location,summary:e.summary}]);x(!1),t?alert("âŒ Failed to publish post: "+t.message):(p(!0),s())};return(0,r.jsxs)("div",{className:"glass-card space-y-6 max-w-5xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-drn-blue",children:"Smart Composer"}),(0,r.jsxs)("form",{onSubmit:t(f),className:"space-y-4",children:[(0,r.jsx)(o,{placeholder:"Post Title",...e("title",{required:!0})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(o,{placeholder:"Category",...e("category",{required:!0})}),(0,r.jsx)(o,{placeholder:"Location",...e("location")})]}),(0,r.jsx)(n,{placeholder:"Write a brief summary...",...e("summary")}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center border border-dashed border-white/20 rounded-xl p-8 bg-black/10 text-white/60 hover:border-drn-green hover:text-white transition",children:[(0,r.jsx)(u.A,{className:"w-8 h-8 mb-2"}),(0,r.jsx)("p",{children:"Media upload will go here"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)(d,{type:"submit",disabled:i,children:[(0,r.jsx)(m.A,{className:"w-4 h-4 mr-1"}),i?"Publishing...":"Publish"]}),b&&(0,r.jsxs)("div",{className:"text-drn-green flex items-center gap-1 text-sm",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),"Post published!"]})]})]})]})}},8942:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(4534),a=s(9862);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[16,972,309,951,358],()=>t(1959)),_N_E=e.O()}]);